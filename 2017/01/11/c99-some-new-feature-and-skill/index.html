<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>C99 的常用好用特性和 C 语言细节上的小坑 | Frapples的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&amp;#x65F6;&amp;#x95F4;&amp;#x8FC7;&amp;#x7684;&amp;#x98DE;&amp;#x5FEB;&amp;#xFF0C;&amp;#x8F6C;&amp;#x773C;&amp;#x95F4;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5B66;&amp;#x671F;&amp;#x5C31;&amp;#x8981;&amp;#x7ED3;&amp;#x675F;&amp;#x4E86;&amp;#x3002;
&amp;#x5728;&amp;#x5FD9;&amp;#x5B8C;&amp;#x624">
<meta property="og:type" content="article">
<meta property="og:title" content="C99 的常用好用特性和 C 语言细节上的小坑">
<meta property="og:url" content="http://frapples.github.io/2017/01/11/c99-some-new-feature-and-skill/index.html">
<meta property="og:site_name" content="Frapples的博客">
<meta property="og:description" content="&amp;#x65F6;&amp;#x95F4;&amp;#x8FC7;&amp;#x7684;&amp;#x98DE;&amp;#x5FEB;&amp;#xFF0C;&amp;#x8F6C;&amp;#x773C;&amp;#x95F4;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5B66;&amp;#x671F;&amp;#x5C31;&amp;#x8981;&amp;#x7ED3;&amp;#x675F;&amp;#x4E86;&amp;#x3002;
&amp;#x5728;&amp;#x5FD9;&amp;#x5B8C;&amp;#x624">
<meta property="og:image" content="http://frapples.github.io/images/emoji/smile.png">
<meta property="og:image" content="http://frapples.github.io/images/emoji/joy.png">
<meta property="og:updated_time" content="2017-01-11T06:33:11.065Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C99 的常用好用特性和 C 语言细节上的小坑">
<meta name="twitter:description" content="&amp;#x65F6;&amp;#x95F4;&amp;#x8FC7;&amp;#x7684;&amp;#x98DE;&amp;#x5FEB;&amp;#xFF0C;&amp;#x8F6C;&amp;#x773C;&amp;#x95F4;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5B66;&amp;#x671F;&amp;#x5C31;&amp;#x8981;&amp;#x7ED3;&amp;#x675F;&amp;#x4E86;&amp;#x3002;
&amp;#x5728;&amp;#x5FD9;&amp;#x5B8C;&amp;#x624">
<meta name="twitter:image" content="http://frapples.github.io/images/emoji/smile.png">
  
    <link rel="alternative" href="/atom.xml" title="Frapples的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <script src="/style.js"></script>
</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/images/logo.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Frapples</a></h1>
		</hgroup>

		
		<p class="header-subtitle">个人的一片小天地，整理思绪，思考问题，分享心得:)</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">博文归档</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">文章列表</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/frapples" title="github">github</a>
		        
					<a class="mail" target="_blank" href="mailto:frapples@163.com" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Frapples</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/images/logo.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Frapples</h1>
			</hgroup>
			
			<p class="header-subtitle">个人的一片小天地，整理思绪，思考问题，分享心得:)</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">博文归档</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/frapples" title="github">github</a>
			        
						<a class="mail" target="_blank" href="mailto:frapples@163.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-c99-some-new-feature-and-skill" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      C99 的常用好用特性和 C 语言细节上的小坑
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      

          
              <div class="toc-article">
                  <strong class="toc-title">目录</strong>
                  (<a class="js-toggle-toc" href="javascript:void(0)"></a>)
                  <div class="toc-content">
                      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#sec-1"><span class="toc-text">1 用好 C99</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-1-1"><span class="toc-text">1.1 for 循环变量初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-1-2"><span class="toc-text">1.2 标准 bool 型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-1-3"><span class="toc-text">1.3 标准 int 型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-1-4"><span class="toc-text">1.4 inline 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-1-5"><span class="toc-text">1.5 变参宏</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sec-2"><span class="toc-text">2 标准库的小坑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-2-1"><span class="toc-text">2.1 对同一文件指针进行写入和读出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sec-2-2"><span class="toc-text">2.2 strncpy 函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sec-3"><span class="toc-text">3 最后</span></a></li></ol>
                  </div>
              </div>
          

        <p>
&#x65F6;&#x95F4;&#x8FC7;&#x7684;&#x98DE;&#x5FEB;&#xFF0C;&#x8F6C;&#x773C;&#x95F4;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B66;&#x671F;&#x5C31;&#x8981;&#x7ED3;&#x675F;&#x4E86;&#x3002;
&#x5728;&#x5FD9;&#x5B8C;&#x624B;&#x5934;&#x7684;&#x5404;&#x79CD;&#x4E8B;&#x60C5;&#x4E4B;&#x540E;&#xFF0C;&#x6253;&#x5F00;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2;&#xFF0C;&#x7EC6;&#x7EC6;&#x7684;&#x6570;&#x6570;&#xFF0C;&#x81EA;&#x5DF1;&#x4EFF;&#x4F5B;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E2A;&#x591A;&#x6708;&#x90FD;&#x6CA1;&#x6709;&#x53D1;&#x8868;&#x65B0;&#x535A;&#x6587;&#x4E86;&#x3002;
</p>

<p>
&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x4EE5;&#x6765;&#xFF0C;&#x524D;&#x540E;&#x5728;&#x4E0D;&#x505C;&#x7684;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BFE;&#x7A0B;&#x8BBE;&#x8BA1;&#x548C;&#x6570;&#x636E;&#x5E93;&#x8BFE;&#x7A0B;&#x8BBE;&#x8BA1;&#x4E4B;&#x95F4;&#x6765;&#x56DE;&#x5FD9;&#x548C;&#x7740;&#x3002;
&#x65E9;&#x5728;&#x4E4B;&#x524D;&#x5B66;&#x4E60;&#x5230;&#x4E00;&#x4E9B;&#x65B0;&#x7684;&#x7F16;&#x7A0B;&#x77E5;&#x8BC6;&#x65F6;&#x6211;&#x6709;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E9B;&#x6A21;&#x7CCA;&#x7684;&#x60F3;&#x6CD5;&#x4E86;&#xFF0C;&#x53EF;&#x6211;&#x8FD9;&#x4E2A;&#x4EBA;&#x4E00;&#x76F4;&#x6BD4;&#x8F83;&#x61D2;&#xFF0C;
&#x5F53;&#x65F6;&#x5E76;&#x6CA1;&#x6709;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x60F3;&#x6CD5;&#x52AA;&#x529B;&#x660E;&#x786E;&#x5E76;&#x4E14;&#x52A8;&#x624B;&#x5B9E;&#x73B0;&#x3002;&#x6B63;&#x597D;&#xFF0C;&#x8FD9;&#x6B21;&#x8D81;&#x7740;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BFE;&#x7A0B;&#x8BBE;&#x8BA1;&#xFF0C;
&#x9009;&#x4E86;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x6EE1;&#x610F;&#x7684;&#x9898;&#x76EE;&#xFF0C;&#x6765;&#x52A8;&#x624B;&#x5199;&#x4E2A;&#x6FC0;&#x52A8;&#x4EBA;&#x5FC3;&#x7684;&#x9879;&#x76EE;&#x3002;
</p>

<p>
&#x7ECF;&#x8FC7;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x7684;&#x6295;&#x5165;&#xFF0C;&#x7EC8;&#x4E8E;&#x5728;&#x4E0D;&#x4E45;&#x4E4B;&#x524D;&#x5C06;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x5B8C;&#x5DE5;&#x4E86;&#x3002;
&#x5728;&#x6B64;&#x4E4B;&#x95F4;&#xFF0C;&#x6211;&#x4E5F;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x953B;&#x70BC;&#xFF0C;&#x5B66;&#x4E60;&#x5E76;&#x9886;&#x609F;&#x5230;&#x4E86;&#x4E0D;&#x5C11;&#x7684;&#x4E1C;&#x897F;&#x3002;
</p>

<p>
&#x8FD9;&#x4E9B;&#x6536;&#x83B7;&#xFF0C;&#x7531;&#x6DF1;&#x5165;&#x6D45;&#xFF0C;&#x5927;&#x6982;&#x53EF;&#x5206;&#x4E3A;&#x601D;&#x60F3;&#x4E0A;&#x7684;&#xFF0C;&#x8BBE;&#x8BA1;&#x4E0A;&#x7684;&#xFF0C;&#x548C;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#x4E0A;&#x7684;&#x3002;
&#x7531;&#x4E8E;&#x601D;&#x60F3;&#x4E0A;&#x548C;&#x8BBE;&#x8BA1;&#x4E0A;&#x7684;&#x5B9E;&#x5728;&#x592A;&#x96BE;&#x8868;&#x8FBE;&#x51FA;&#x6765;&#xFF0C;&#x7EC4;&#x7EC7;&#x8D77;&#x6765;&#x4E5F;&#x975E;&#x5E38;&#x8017;&#x7CBE;&#x529B;&#xFF0C;
&#x53C8;&#x8003;&#x8651;&#x5230;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#x4E0A;&#x7684;&#x5C5E;&#x4E8E;&#x90A3;&#x79CD;&#x6BD4;&#x8F83;&#x70E6;&#x7410;&#x800C;&#x4E14;&#x5BB9;&#x6613;&#x5FD8;&#x8BB0;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;
&#x6240;&#x4EE5;&#x8FD9;&#x7BC7;&#x535A;&#x6587;&#x6682;&#x4E14;&#x5077;&#x4E2A;&#x61D2;&#x603B;&#x7ED3;&#x4E0B;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#x4E0A;&#x7684;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x5427;&#x3002; 
<img width="20" height="20" class="emoji nofancybox" title=":smile:" alt="&#x1F604;" src="/images/emoji/smile.png">

</p>

<a id="more"></a>

<p>
<a href="http://blog.csdn.net/syrchina/article/details/6662243" target="_blank" rel="external">http://blog.csdn.net/syrchina/article/details/6662243</a>
</p>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> &#x7528;&#x597D; C99</h2>
<div class="outline-text-2" id="text-1">
<p>
&#x867D;&#x7136;&#x622A;&#x6B62;&#x5230;&#x5199;&#x535A;&#x65F6;&#xFF0C;&#x6625;&#x8282;&#x8FD8;&#x6CA1;&#x6765;&#x4E34;&#xFF0C;&#x5728;&#x90E8;&#x5206;&#x4E2D;&#x56FD;&#x4EBA;&#x5FC3;&#x76EE;&#x4E2D;&#x73B0;&#x5728;&#x8FD8;&#x662F; 2016 &#x5E74;&#x3002;
&#x4F46;&#x662F;&#x5982;&#x679C;&#x6309;&#x7167;&#x516C;&#x5143;&#x7EAA;&#x5E74;&#x7684;&#x8BDD;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x662F;&#x516C;&#x5143; 2017 &#x5E74;&#x4E86;&#x3002;
</p>

<p>
&#x8FFD;&#x6EAF; C &#x8BED;&#x8A00;&#x6807;&#x51C6;&#x7248;&#x672C;&#x7684;&#x5386;&#x53F2;&#xFF0C;C99 &#x6807;&#x51C6;&#x65E9;&#x5728;&#x4E0A;&#x4E16;&#x7EAA; 90 &#x5E74;&#x4EE3;&#x5C31;&#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x4E86;&#xFF0C;
&#x8FD9;&#x4E48;&#x957F;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5404;&#x5927;&#x4E3B;&#x6D41;&#x7F16;&#x8BD1;&#x5668;&#x5BF9; C99 &#x7684;&#x652F;&#x6301;&#x65E9;&#x5C31;&#x975E;&#x5E38;&#x5B8C;&#x5584;&#x4E86;&#x3002;
</p>

<p>
&#x5176;&#x5B9E;&#x50CF;//&#x6CE8;&#x91CA;&#x65B9;&#x5F0F;&#x548C;&#x80FD;&#x591F;&#x5728;&#x53D8;&#x91CF;&#x4F7F;&#x7528;&#x5904;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x662F;&#x76F4;&#x5230; C99 &#x624D;&#x6709;&#x7684;&#x7279;&#x6027;&#xFF0C;
&#x4F46;&#x662F;&#x4E3B;&#x6D41;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x90FD;&#x6269;&#x5C55;&#x652F;&#x6301;&#x4E86;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x7528; C89 &#x4F3C;&#x4E4E;&#x6CA1;&#x89C1;&#x8FC7;&#x6709;&#x7F16;&#x8BD1;&#x5668;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x62A5;&#x9519;&#x7684;&#x3002;
</p>

<p>
&#x8A00;&#x5F52;&#x6B63;&#x4F20;&#xFF0C;C99 &#x7684;&#x4E00;&#x4E9B;&#x65B0;&#x7279;&#x6027;&#xFF0C;&#x7ED9;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x6709;&#x6548;&#x65B9;&#x4FBF;&#x7684;&#x65B9;&#x5F0F;&#x3002;
&#x4E0B;&#x9762;&#x6211;&#x603B;&#x7ED3;&#x4EE5;&#x4E0B; C99 &#x7684;&#x4E00;&#x4E9B;&#x5F88;&#x5E38;&#x7528;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x65B0;&#x7279;&#x6027;&#x3002;
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> for &#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x521D;&#x59CB;&#x5316;</h3>
<div class="outline-text-3" id="text-1-1">
<p>
&#x5728;&#x4E4B;&#x524D;&#x7684; C89 &#x6807;&#x51C6;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528; for &#x5FAA;&#x73AF;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) {</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x5176;&#x4E2D;&#x7684;&#x53D8;&#x91CF; i &#x5FC5;&#x987B;&#x8981;&#x5728; for &#x8BED;&#x53E5;&#x4E4B;&#x524D;&#x5B9A;&#x4E49;&#x3002;
</p>

<p>
&#x5728; C99 &#x4E2D;&#xFF0C;&#x4F60;&#x7EC8;&#x4E8E;&#x53EF;&#x4EE5;&#x5728; for &#x5185;&#x90E8;&#x5B9A;&#x4E49;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x4E86;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) {</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>

<p>
&#x66FE;&#x7ECF;&#x6211;&#x4EE5;&#x4E3A; C &#x8BED;&#x8A00;&#x662F;&#x652F;&#x6301;&#x4E0A;&#x9762;&#x8FD9;&#x6837;&#x4F7F;&#x7528; for &#x5FAA;&#x73AF;&#x7684;&#xFF0C;&#x5F53;&#x65F6;&#x6211;&#x8FD8;&#x5728;&#x4F7F;&#x7528; Windows&#xFF0C;&#x62FF; C++&#x7F16;&#x8F91;&#x5668;&#x7F16;&#x8BD1; C &#x4EE3;&#x7801;&#x3002;
&#x540E;&#x6765;&#x5207;&#x6362;&#x5230; linux &#x4E0B;&#xFF0C;&#x6709;&#x4E00;&#x6B21;&#x6211;&#x7528; gcc &#x62A5;&#x9519;&#x4E86;&#xFF0C;&#x6211;&#x624D;&#x77E5;&#x9053;&#x539F;&#x6765;&#x8FD9;&#x662F; C99 &#x8D77;&#x624D;&#x6709;&#x7684;&#x7279;&#x6027;&#x3002;
</p>

<p>
C99 &#x652F;&#x6301;&#x7684;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x5F88;&#x660E;&#x663E;&#x8981;&#x65B9;&#x4FBF;&#x8BB8;&#x591A;&#x3002;&#x53EF;&#x80FD;&#x4F60;&#x4EE5;&#x4E3A;&#x4EC5;&#x4EC5;&#x662F;&#x5C11;&#x6572;&#x70B9;&#x5B57;&#x7B26;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x54E6;&#x4E0D;&#xFF0C;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) {</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">double</span> i = <span class="number">100.0</span>; i &gt; <span class="number">1.0</span>; i /= <span class="number">2.0</span>) {</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x5BF9;&#x4E8E; for &#x91CC;&#x9762;&#x7684;&#x7528;&#x5B8C;&#x5C31;&#x4E22;&#x7684;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x5F88;&#x591A;&#x4EBA;&#x4F1A;&#x4E60;&#x60EF;&#x6027;&#x7684;&#x547D;&#x540D;&#x4E3A; i&#x3002;
&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x5728;&#x5916;&#x9762;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x51FA;&#x73B0;&#x53D8;&#x91CF;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x7684;&#x95EE;&#x9898;&#x3002;
</p>

<p>
&#x800C; C99 &#x652F;&#x6301;&#x7684;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#xFF0C;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x4EC5;&#x4EC5;&#x662F; for &#x8BED;&#x53E5;&#x5185;&#xFF0C;&#x56E0;&#x6B64;&#x5C31;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;
</p>


<p>
&#x8FD8;&#x6709;&#xFF0C;for &#x91CC;&#x9762;&#x7684;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x5728; for &#x5185;&#x4F7F;&#x7528;&#xFF0C;&#x51FA;&#x4E86; for &#x8BED;&#x53E5;&#x5C31;&#x7528;&#x4E0D;&#x4E0A;&#x4E86;&#x3002;
&#x4ECE;&#x8BED;&#x6CD5;&#x4E0A;&#x628A;&#x5FAA;&#x73AF;&#x53D8;&#x91CF;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5C40;&#x9650;&#x5728; for &#x8BED;&#x53E5;&#x5185;&#xFF0C;&#x80FD;&#x591F;&#x963B;&#x6B62;&#x7A0B;&#x5E8F;&#x5458;&#x8111;&#x888B;&#x4E00;&#x7CCA;&#x6D82;&#x4E00;&#x7C97;&#x5FC3;&#xFF0C;&#x72AF;&#x4E00;&#x4E9B;&#x4F4E;&#x7EA7;&#x9519;&#x8BEF;&#x3002;
</p>
</div>
</div>


<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> &#x6807;&#x51C6; bool &#x578B;</h3>
<div class="outline-text-3" id="text-1-2">
<p>
&#x5728; C89 &#x6807;&#x51C6;&#x7684; C &#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x60F3;&#x8981;&#x8868;&#x8FBE;&#x201D;&#x771F;&#x201C;&#xFF0C;&#x201D;&#x5047;&#x201C;&#x8FD9;&#x79CD;&#x6570;&#x7406;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x662F;&#x7528; int &#x578B;&#x7684; 1&#xFF0C;0 &#x6765;&#x8868;&#x793A;&#x7684;&#x3002;
</p>

<p>
&#x4F46;&#x662F;&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;int &#x548C; bool &#x5728;&#x6982;&#x5FF5;&#x4E0A;&#x672C;&#x6765;&#x5C31;&#x662F;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#xFF0C;
&#x867D;&#x7136; C &#x8BED;&#x8A00;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#xFF0C;&#x4F46;&#x662F;&#x7A0B;&#x5E8F;&#x5458;&#x4E0D;&#x80FD;&#x72AF;&#x7CCA;&#xFF0C;&#x5728;&#x8111;&#x5B50;&#x91CC;&#x5C31;&#x5E94;&#x8BE5;&#x628A;&#x8FD9;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x533A;&#x5206;&#x5F00;&#x6765;&#x3002;
</p>

<p>
&#x6B63;&#x56E0;&#x4E3A;&#x5982;&#x6B64;&#xFF0C;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#x5229;&#x7528; C &#x8BED;&#x8A00;&#x4E0D;&#x533A;&#x5206; int &#x548C; bool &#x7684;&#x7279;&#x6027;&#x5C11;&#x6572;&#x51E0;&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x4EE3;&#x7801;&#xFF0C;
&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E0D;&#x597D;&#x7684;&#x4E0D;&#x6E05;&#x6670;&#x7684;&#xFF0C;&#x662F;&#x5728;&#x800D;&#x5C0F;&#x806A;&#x660E;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> n = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span> (n % <span class="number">2</span>) { <span class="comment">/* &#x597D;&#x7684;&#x5199;&#x6CD5;&#x5E94;&#x8BE5;&#x662F; n % 2 == 0 */</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &#x662F;&#x5076;&#x6570;\n&quot;</span>);</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &#x662F;&#x5947;&#x6570;\n&quot;</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>

<p>
&#x4E5F;&#x6B63;&#x56E0;&#x4E3A; bool &#x7C7B;&#x578B;&#x662F;&#x7F16;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x79CD;&#x9700;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x591A; C &#x7A0B;&#x5E8F;&#x5458;&#x4E3A;&#x4E86;&#x4EE3;&#x7801;&#x66F4;&#x6E05;&#x6670;&#x4F1A;&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684; bool &#x7C7B;&#x578B;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EE5;&#x524D;&#x8FD9;&#x6837;&#x5E72;&#xFF1A; 
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> Bool;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> TRUE <span class="number">1</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> FALSE <span class="number">0</span></span></span><br></pre></td></tr></table></figure>
</div>

<p>
&#x73B0;&#x5728;&#xFF0C;&#x6709;&#x4E86; C99&#xFF0C;&#x90A3;&#x4E9B;&#x5343;&#x5947;&#x767E;&#x602A;&#x7684;&#x81EA;&#x5B9A;&#x4E49; bool &#x53EF;&#x4EE5;&#x7701;&#x6389;&#x4E86;&#x3002;&#x73B0;&#x5728;&#x53EA;&#x9700;&#x8981; include &#x5934;&#x6587;&#x4EF6; <code>stdbool.h</code> &#xFF0C;&#x5C31;&#x80FD;&#x4F7F;&#x7528; C99 &#x5B9A;&#x4E49;&#x7684; bool &#x7C7B;&#x578B;&#x3002;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span><br><span class="line"></span>{</span><br><span class="line">    <span class="keyword">bool</span> var_b = <span class="literal">true</span>;</span><br><span class="line">    var_b = <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x548C;&#x5DF2;&#x6709;&#x4EE3;&#x7801;&#x51B2;&#x7A81;&#xFF0C;C99 &#x4E2D;&#x771F;&#x6B63;&#x7684;&#x7C7B;&#x578B;&#x540D;&#x662F; <code>_Bool</code> &#xFF0C;&#x90A3;&#x4E2A; <code>bool</code> &#x5176;&#x5B9E;&#x53EA;&#x662F;&#x4E2A;&#x5B8F;&#x3002; 
<img width="20" height="20" class="emoji nofancybox" title=":joy:" alt="&#x1F602;" src="/images/emoji/joy.png">

</p>
</div>
</div>


<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> &#x6807;&#x51C6; int &#x578B;</h3>
<div class="outline-text-3" id="text-1-3">
<p>
C &#x8BED;&#x8A00;&#x91CC;&#x6709; short int, int, long int &#x7B49;&#x6574;&#x578B;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4EEC;&#x5177;&#x4F53;&#x662F;&#x591A;&#x5927;&#xFF1F;C &#x6807;&#x51C6;&#x5E76;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x89C4;&#x5B9A;&#xFF0C;&#x53EA;&#x662F;&#x8BF4;&#x4E86;&#xFF1A;
sizeof(short int) &lt;= sizeof(int) &lt;= sizeof(long int)&#xFF0C;&#x5E76;&#x4E14; short int &#x81F3;&#x5C11;&#x5E94;&#x4E3A; 16 &#x4F4D;&#xFF0C;long int &#x81F3;&#x5C11;&#x5E94;&#x4E3A; 32 &#x4F4D;&#x3002;
</p>

<p>
&#x4F46;&#x662F;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4; int&#xFF0C;&#x5177;&#x4F53;&#x5360;&#x591A;&#x5C11;&#x4F4D;&#xFF0C;&#x8FD9;&#x5F97;&#x770B;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x5B9E;&#x73B0;&#x53EF;&#x80FD;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x786C;&#x4EF6;&#x5E73;&#x53F0;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#x3002;
</p>

<p>
&#x4F46;&#x662F;&#x5728;&#x5177;&#x4F53;&#x7684;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x65F6;&#xFF0C;&#x662F;&#x6709;&#x7528;&#x5230;&#x7279;&#x5B9A;&#x4F4D;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4; 32 &#x4F4D;&#x7684;&#x6574;&#x6570;&#x7C7B;&#x578B;&#x8FD9;&#x79CD;&#x9700;&#x6C42;&#x7684;&#x3002;
&#x5728;&#x4EE5;&#x5F80;&#x6709;&#x8FD9;&#x79CD;&#x9700;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x5F97;&#x662F;&#x7A0B;&#x5E8F;&#x5458;&#x5148;&#x8C03;&#x67E5;&#x51FA;&#x5728;&#x81EA;&#x5DF1;&#x53EF;&#x80FD;&#x7528;&#x5230;&#x7F16;&#x8BD1;&#x5668;&#x548C;&#x5E73;&#x53F0;&#x4E0A;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x5404;&#x4E2A;&#x6574;&#x578B;&#x5177;&#x4F53;&#x7684;&#x4F4D;&#x6570;&#x3002;
&#x7136;&#x540E;&#x7528;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;&#x548C;&#x7C7B;&#x578B;&#x522B;&#x540D;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x51FA;&#x4E00;&#x5806;&#x56FA;&#x5B9A;&#x4F4D;&#x6570;&#x7684;&#x6574;&#x578B;&#x3002;
</p>

<p>
&#x73B0;&#x5728;&#xFF0C;&#x5728; C99 &#x4E2D;&#xFF0C;&#x53EA;&#x9700; include &#x5934;&#x6587;&#x4EF6; <code>stdint.h</code>, &#x5C31;&#x80FD;&#x8F7B;&#x677E;&#x4F7F;&#x7528;&#x5230;&#x56FA;&#x5B9A;&#x4F4D;&#x6570;&#x7684;&#x6574;&#x578B;&#x4E86;&#x3002;&#x89C1;&#x4E0B;&#x8868;&#xFF1A;
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col class="left">

<col class="left">

<col class="left">

<col class="left">

<col class="left">

<col class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="left">&#x6709;&#x7B26;&#x53F7;</th>
<th scope="col" class="left">&#x65E0;&#x7B26;&#x53F7;</th>
<th scope="col" class="left">&#x6709;&#x7B26;&#x53F7;&#x6570;&#x6700;&#x5C0F;&#x503C;</th>
<th scope="col" class="left">&#x6709;&#x7B26;&#x53F7;&#x6570;&#x6700;&#x5927;&#x503C;</th>
<th scope="col" class="left">&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x6700;&#x5927;&#x503C;</th>
<th scope="col" class="left">&#x5907;&#x6CE8;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">int8_t</td>
<td class="left">uint8_t</td>
<td class="left">INT8_MIN</td>
<td class="left">INT8_MAX</td>
<td class="left">UINT8_MAX</td>
<td class="left">&#xA0;</td>
</tr>

<tr>
<td class="left">int16_t</td>
<td class="left">uint16_t</td>
<td class="left">INT16_MIN</td>
<td class="left">INT16_MAX</td>
<td class="left">UINT16_MAX</td>
<td class="left">&#xA0;</td>
</tr>

<tr>
<td class="left">int32_t</td>
<td class="left">uint32_t</td>
<td class="left">INT32_MIN</td>
<td class="left">INT32_MAX</td>
<td class="left">UINT32_MAX</td>
<td class="left">&#xA0;</td>
</tr>

<tr>
<td class="left">int64_t</td>
<td class="left">uint64_t</td>
<td class="left">INT64_MIN</td>
<td class="left">INT64_MAX</td>
<td class="left">UINT64_MAX</td>
<td class="left">&#x53EF;&#x9009;&#x652F;&#x6301;</td>
</tr>

<tr>
<td class="left">intmax_t</td>
<td class="left">uintmax_t</td>
<td class="left">INTMAX_MIN</td>
<td class="left">INTMAX_MAX</td>
<td class="left">UINTMAX_MAX</td>
<td class="left">&#x652F;&#x6301;&#x7684;&#x6700;&#x5927;&#x4F4D;&#x6570;&#x6574;&#x6570;</td>
</tr>
</tbody>
</table>

<p>
&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;C99 &#x5B9A;&#x4E49;&#x4E86; 8 &#x4F4D;&#xFF0C;16 &#x4F4D;&#xFF0C;32 &#x4F4D;&#x7684;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x578B;&#x548C;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x578B;&#xFF0C;
&#x8FD8;&#x6709; 64 &#x4F4D;&#x7684;&#x662F;&#x53EF;&#x9009;&#x652F;&#x6301;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E3B;&#x8981;&#x662F;&#x8003;&#x8651;&#x5230;&#x90E8;&#x5206;&#x786C;&#x4EF6;&#x4E0D;&#x652F;&#x6301;&#x3002;&#x4F46;&#x662F;&#x4E3B;&#x6D41;&#x7684; x86, amd64 &#x4E4B;&#x7C7B;&#x7684;&#x786C;&#x4EF6;&#x662F;&#x652F;&#x6301;&#x7684;&#x3002;
</p>
</div>
</div>


<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> inline &#x51FD;&#x6570;</h3>
<div class="outline-text-3" id="text-1-4">
<p>
inline &#x51FD;&#x6570;&#x662F;&#x4E2A;&#x975E;&#x5E38;&#x597D;&#x7684;&#x7279;&#x6027;&#x3002;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7684;&#x4F18;&#x70B9;&#x5728;&#x4E8E;&#xFF0C;&#x5373;&#x80FD;&#x4EAB;&#x53D7;&#x51FD;&#x6570;&#x6240;&#x5E26;&#x6765;&#x7684;&#x62BD;&#x8C61;&#x4F18;&#x70B9;&#xFF0C;&#x800C;&#x53C8;&#x80FD;&#x907F;&#x514D;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6240;&#x5E26;&#x6765;&#x7684;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002;
</p>

<p>
inline &#x51FD;&#x6570;&#x4E00;&#x5F00;&#x59CB;&#x662F;&#x51FA;&#x73B0;&#x5728; C++&#x4E2D;&#xFF0C;C++&#x8FD9;&#x95E8;&#x8BED;&#x8A00;&#x7684;&#x76EE;&#x6807;&#x662F;&#x96F6;&#x5F00;&#x9500;&#x62BD;&#x8C61;&#x3002;
&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;C++&#x4E00;&#x65B9;&#x9762;&#x8981;&#x7ED9;&#x7A0B;&#x5E8F;&#x5458;&#x63D0;&#x4F9B;&#x5404;&#x79CD;&#x62BD;&#x8C61;&#x5DE5;&#x5177;&#xFF0C;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#x8981;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x4E0D;&#x4F1A;&#x5E26;&#x6765;&#x989D;&#x5916;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x5F00;&#x9500;&#x3002;
</p>

<p>
&#x51FD;&#x6570;&#x5728; C &#x548C; C++&#x4E2D;&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x62BD;&#x8C61;&#x5DE5;&#x5177;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x90E8;&#x5206;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x5F88;&#x9AD8;&#x7684;&#x5730;&#x65B9;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4F1A;&#x5E26;&#x6765;&#x989D;&#x5916;&#x7684;&#x5F00;&#x9500;&#x3002;
&#x5728;&#x4E4B;&#x524D;&#x7684; C &#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x662F;&#x4F7F;&#x7528;&#x5B8F;&#x6765;&#x907F;&#x514D;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x5F00;&#x9500;&#x7684;&#xFF0C;&#x50CF;&#xFF1A;
</p>

<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> MAX(a, b) ((a) &gt; (b) ? (a) : (b))</span></span><br></pre></td></tr></table></figure>
</div>

<p>
&#x4F46;&#x662F;&#x5B8F;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x66FF;&#x6362;&#x800C;&#x5DF2;&#xFF0C;&#x5B83;&#x7684;&#x7F3A;&#x70B9;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF1A;
</p>
<ul class="org-ul">
<li>&#x6CA1;&#x6709;&#x7C7B;&#x578B;&#x68C0;&#x67E5;
</li>
<li>&#x7F16;&#x5199;&#x51FD;&#x6570;&#x5B8F;&#x65F6;&#x8981;&#x5C0F;&#x5FC3;&#xFF0C;&#x5426;&#x5219;&#x5BB9;&#x6613;&#x51FA;&#x8BE1;&#x5F02;&#x7684; bug&#xFF08;&#x6BD4;&#x5982;&#x5FD8;&#x8BB0;&#x4E86;&#x5728;&#x6574;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x5916;&#x5957;&#x62EC;&#x53F7;&#xFF09;
</li>
<li>&#x4F20;&#x8FDB;&#x5165;&#x7684;&#x53C2;&#x6570;&#x662F;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x7ED3;&#x679C;&#x88AB;&#x8BA1;&#x7B97;&#x4E86;&#x4E24;&#x6B21;&#x3002;&#x4E0D;&#x4EC5;&#x6709;&#x989D;&#x5916;&#x6027;&#x80FD;&#x5F00;&#x9500;&#xFF0C;&#x800C;&#x4E14;&#x8868;&#x8FBE;&#x5F0F;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x4F1A;&#x51FA;&#x95EE;&#x9898;
</li>
</ul>

<p>
C++&#x7684;&#x5185;&#x8054;&#x51FD;&#x6570;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x8FD9;&#x9700;&#x8981;&#x4F60;&#x5728;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x524D;&#x52A0;&#x4E0A; inline &#x5173;&#x952E;&#x5B57;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max_int</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max_int</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span><br><span class="line"></span>{</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x8FD9;&#x6837;&#xFF0C;C++&#x5728;&#x8C03;&#x7528; max_int &#x51FD;&#x6570;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x505A;&#x5185;&#x8054;&#x5C55;&#x5F00;&#xFF0C;&#x4E5F;&#x5373;&#x628A;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0; copy &#x5230;&#x8C03;&#x7528;&#x5904;&#xFF0C;&#x514D;&#x53BB;&#x4E86;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x5F00;&#x9500;&#x3002;
</p>


<p>
&#x73B0;&#x5728;&#xFF0C;C99 &#x628A; inline &#x51FD;&#x6570;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x5F15;&#x5165;&#x5230;&#x4E86; C &#x8BED;&#x8A00;&#x4E2D;&#x3002;&#x4F46;&#x662F;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F; C99 &#x7684; inline &#x548C; C++&#x7684; inline &#x7684;&#x5F02;&#x540C;&#x70B9;&#x3002;
</p>

<p>
&#x9996;&#x5148;&#x548C; C++&#x7684; inline &#x4E00;&#x6837;&#xFF0C;&#x4F60;&#x5F97;&#x628A; inline &#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#x5199;&#x5230;.h &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E0D;&#x7136;&#x8D77;&#x4E0D;&#x5230; inline &#x7684;&#x6548;&#x679C;&#x3002;
&#x7531;&#x4E8E; C/C++&#x4E2D;&#x662F;&#x6BCF;&#x4E2A;&#x7F16;&#x8BD1;&#x5355;&#x5143;&#x72EC;&#x7ACB;&#x7F16;&#x8BD1;&#x7136;&#x540E;&#x94FE;&#x63A5;&#x5230;&#x4E00;&#x8D77;&#xFF0C;&#x4E0D;&#x628A;&#x5B9A;&#x4E49;&#x5199;&#x5230;.h &#x91CC;&#x9762;&#x7684;&#x8BDD;&#xFF0C;&#x5728;&#x8C03;&#x7528;&#x70B9;&#x53EF;&#x80FD;&#x7F16;&#x8BD1;&#x5668;&#x4E0D;&#x77E5;&#x9053;&#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x90A3;&#x8FD8;&#x600E;&#x4E48;&#x5185;&#x8054;&#x5C55;&#x5F00;&#xFF1F;
</p>

<p>
&#x597D;&#x4E86;&#xFF0C;&#x8BF4;&#x5B8C;&#x4E86;&#x5171;&#x540C;&#x70B9;&#xFF0C;C99 &#x7684; inline &#x8FD8;&#x6709;&#x4E00;&#x70B9;&#x548C; C++&#x7684;&#x4E0D;&#x4E00;&#x6837;&#x3002;
&#x73B0;&#x5728;&#x4F60;&#x6709;&#x4E00;&#x4E2A; compare.h &#x6587;&#x4EF6;&#xFF0C;&#x91CC;&#x9762;&#x5199;&#x4E86;&#x4E0A;&#x9762;&#x793A;&#x4F8B;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x7136;&#x540E;&#x4F60;&#x5728; module1.c &#x548C; module2.c &#x91CC;&#x9762;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5934;&#x6587;&#x4EF6;&#x7684; max_int &#x51FD;&#x6570;&#x3002;
</p>

<p>
&#x7136;&#x540E;&#x4F7F;&#x7528; <code>gcc module1.c module2.c</code> &#x7F16;&#x8BD1;&#x3002;&#x4EE4;&#x4EBA;&#x60CA;&#x8BB6;&#x7684;&#x662F; gcc &#x62A5;&#x9519;&#x4E86;&#xFF1A;
</p>
<pre class="example">
/tmp/ccnwN5Zq.o&#xFF1A;&#x5728;&#x51FD;&#x6570;&#x2018;max_int&#x2019;&#x4E2D;&#xFF1A;
module2.c:(.text+0x0): multiple definition of `max_int&apos;
/tmp/ccSzx1Cy.o:module1.c:(.text+0x0)&#xFF1A;&#x7B2C;&#x4E00;&#x6B21;&#x5728;&#x6B64;&#x5B9A;&#x4E49;
collect2: error: ld returned 1 exit status
</pre>

<p>
&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x7F16;&#x8BD1;&#x5355;&#x5143; module1.c &#x548C;&#x7F16;&#x8BD1;&#x5355;&#x5143; module2.c &#x5728; include &#x5934;&#x6587;&#x4EF6; compare.h &#x4E4B;&#x540E;&#xFF0C;&#x5404;&#x81EA;&#x6709;&#x4E00;&#x4EFD;&#x51FD;&#x6570; max_int &#x7684;&#x5B9A;&#x4E49;&#x3002;
&#x6240;&#x4EE5;&#x5728;&#x94FE;&#x63A5;&#x65F6;&#x62A5;&#x51FA;&#x4E86;&#x51FD;&#x6570;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x3002;C++&#x7684; inline &#x80FD;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5F88;&#x9057;&#x61BE; C99 &#x5E76;&#x4E0D;&#x80FD;&#x3002;
</p>

<p>
&#x6240;&#x4EE5;&#xFF0C;C99 &#x7684; inline &#x7279;&#x6027;&#x7684;&#x6B63;&#x786E;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x662F;&#xFF0C;&#x628A; inline &#x51FD;&#x6570;&#x8BBE;&#x4E3A; static&#xFF0C;&#x4F7F;&#x51FD;&#x6570;&#x5C40;&#x90E8;&#x4E8E;&#x7F16;&#x8BD1;&#x5355;&#x5143;&#x53EF;&#x89C1;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max_int</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max_int</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span><br><span class="line"></span>{</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>

<p>
&#x4EE5;&#x6211;&#x4E2A;&#x4EBA;&#x89C2;&#x70B9;&#xFF0C;&#x5728;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x65F6;&#x4E0D;&#x7528;&#x592A;&#x65E9;&#x5173;&#x5FC3;&#x8FD9;&#x4E9B;&#x5BF9;&#x6027;&#x80FD;&#x5F71;&#x54CD;&#x662F;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x5E38;&#x6570;&#x7684;&#x5730;&#x65B9;&#x3002;
inline &#x51FD;&#x6570;&#x7684;&#x4F18;&#x70B9;&#x5728;&#x4E8E;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5148;&#x6309;&#x7167;&#x6B63;&#x5E38;&#x65B9;&#x5F0F;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x8BBE;&#x8BA1;&#x51FD;&#x6570;&#xFF0C;
&#x4E4B;&#x540E;&#x901A;&#x8FC7;&#x5206;&#x6790;&#x53D1;&#x73B0;&#x67D0;&#x51E0;&#x4E2A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x5F00;&#x9500;&#x662F;&#x5F71;&#x54CD;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x7684;&#x5173;&#x952E;&#x90E8;&#x5206;&#xFF0C;&#x5230;&#x65F6;&#x5019;&#x518D;&#x65E0;&#x7F1D;&#x4FEE;&#x6539;&#x4E3A; inline&#xFF0C;&#x4F18;&#x5316;&#x6027;&#x80FD;&#x3002;
</p>
</div>
</div>


<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> &#x53D8;&#x53C2;&#x5B8F;</h3>
<div class="outline-text-3" id="text-1-5">
<p>
C &#x8BED;&#x8A00;&#x662F;&#x652F;&#x6301;&#x53D8;&#x53C2;&#x51FD;&#x6570;&#x7684;&#x3002;&#x901A;&#x8FC7;&#x914D;&#x5408;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x5E93; stdarg.h &#x91CC;&#x9762;&#x7684;&#x5DE5;&#x5177;&#xFF0C;C &#x8BED;&#x8A00;&#x4E2D;&#x662F;&#x80FD;&#x591F;&#x5B9A;&#x4E49;&#x53D8;&#x53C2;&#x51FD;&#x6570;&#x7684;&#xFF0C;&#x50CF;&#x6807;&#x51C6;&#x5E93;&#x7684; printf &#x51FD;&#x6570;&#x5C31;&#x662F;&#x53D8;&#x53C2;&#x7684;&#x3002;
&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF0C;&#x8C08;&#x7B11;&#x95F4;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684; my_printf &#x51FD;&#x6570;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">my_printf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *format, ...)</span></span><br><span class="line"></span>{</span><br><span class="line">    va_list ap;</span><br><span class="line">    va_start(ap, format);</span><br><span class="line">    <span class="built_in">vfprintf</span>(<span class="built_in">stdout</span>, format, ap);</span><br><span class="line">    va_end(ap);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</div>

<p>
&#x4F46;&#x662F;&#x9057;&#x61BE;&#x7684;&#x662F; C &#x8BED;&#x8A00;&#x7684;&#x51FD;&#x6570;&#x5B8F;&#x5374;&#x4E0D;&#x652F;&#x6301;&#x591A;&#x53C2;&#x6570;&#x3002;&#x6BD4;&#x5982;&#x6211;&#x60F3;&#x7528;&#x5B8F;&#x628A;&#x4E0A;&#x9762;&#x7684;&#x51FD;&#x6570;&#x7B80;&#x5355;&#x5305;&#x88C5;&#x4E00;&#x4E0B;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x6613;&#x7684;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#xFF0C;
&#x53EF;&#x4EE5;&#x7075;&#x6D3B;&#x7684;&#x8FDB;&#x884C;&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#x3002;
</p>

<p>
&#x73B0;&#x5728;&#x6709;&#x4E86; C99&#xFF0C;&#x8FD9;&#x4E2A;&#x9700;&#x6C42;&#x5F97;&#x5230;&#x4E86;&#x6EE1;&#x8DB3;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">define</span> log_debug(fmt, ...) my_printf(<span class="string">&quot;[DEBUG]: &quot;</span> fmt, ##__VA_ARGS__)</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> log_debug(fmt, ...) my_printf(<span class="string">&quot;[DEBUG]: &quot;</span> fmt, __VA_ARGS__)</span></span><br></pre></td></tr></table></figure>
</div>

<p>
&#x4E0A;&#x9762;&#x6F14;&#x793A;&#x4E86;&#x4E24;&#x79CD;&#x5199;&#x6CD5;&#xFF0C; <code>__VA_ARGS__</code> &#x548C; <code>##__VA_ARGS__</code> &#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x533A;&#x522B;&#x662F;&#xFF0C;&#x540E;&#x8005;&#x5141;&#x8BB8;&#x53EF;&#x53D8;&#x53C2;&#x6570;&#x7684;&#x90E8;&#x5206;&#x4E3A;&#x7A7A;&#x3002;
</p>
</div>
</div>
</div>




<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> &#x6807;&#x51C6;&#x5E93;&#x7684;&#x5C0F;&#x5751;</h2>
<div class="outline-text-2" id="text-2">
<p>
C &#x8BED;&#x8A00;&#x7684;&#x6807;&#x51C6;&#x5E93;&#x5386;&#x53F2;&#x5DF2;&#x7ECF;&#x5F88;&#x53E4;&#x8001;&#x4E86;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E9B;&#x8BBE;&#x8BA1;&#x4F7F;&#x5F97;&#x4F7F;&#x7528;&#x4E0A;&#x6709;&#x70B9;&#x9EBB;&#x70E6;&#x4E5F;&#x5C31;&#x7B97;&#x4E86;&#xFF0C;
&#x6700;&#x5934;&#x75BC;&#x7684;&#x662F;&#x5176;&#x5B9E;&#x91CC;&#x9762;&#x8574;&#x542B;&#x4F60;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x5C0F;&#x5751;&#xFF0C;&#x5199;&#x51FA;&#x6765;&#x7684;&#x4EE3;&#x7801;&#x4E4D;&#x4E00;&#x770B;&#x65E0;&#x61C8;&#x53EF;&#x51FB;&#xFF0C;&#x7B49;&#x5230;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x53C8;&#x767E;&#x822C;&#x6478;&#x4E0D;&#x7740;&#x5934;&#x8111;&#x3002;
&#x76F4;&#x5230;&#x8C03;&#x8BD5;&#x5230;&#x6700;&#x540E;&#x624D;&#x5FFD;&#x7136;&#x53D1;&#x73B0;&#xFF0C;&#x539F;&#x6765;&#x6807;&#x51C6;&#x5E93;&#x7684;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x884C;&#x4E3A;&#x548C;&#x6211;&#x8BA4;&#x4E3A;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#xFF01;
</p>

<p>
&#x4E0B;&#x9762;&#x6211;&#x5C31;&#x603B;&#x7ED3;&#x4E0B;&#x6211;&#x9047;&#x5230;&#x8FC7;&#x7684;&#x6807;&#x51C6;&#x5E93;&#x7684;&#x5C0F;&#x5751;&#x3002;
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> &#x5BF9;&#x540C;&#x4E00;&#x6587;&#x4EF6;&#x6307;&#x9488;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x548C;&#x8BFB;&#x51FA;</h3>
<div class="outline-text-3" id="text-2-1">
<p>
&#x5148;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">FILE* fp = fopen(file, <span class="string">&quot;r+&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">512</span>];</span><br><span class="line">fread(buf, <span class="keyword">sizeof</span>(buf), <span class="number">1</span>, fp);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> write_buf[<span class="number">512</span>] = {<span class="string">&apos;\0&apos;</span>};</span><br><span class="line">fwrite(buf, <span class="keyword">sizeof</span>(buf), <span class="number">1</span>, fp);</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x9996;&#x5148;&#x6211;&#x4EEC;&#x4ECE;&#x6587;&#x4EF6;&#x504F;&#x79FB; 0 &#x5F00;&#x59CB;&#x8BFB;&#x53D6; 512 &#x4E2A;&#x5B57;&#x8282;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4ECE;&#x504F;&#x79FB; 512 &#x5F00;&#x59CB;&#x5F80;&#x6587;&#x4EF6;&#x5199;&#x5165;&#x4E86; 512 &#x4E2A; =&apos;\0&apos;= &#x3002;
&#x4E4D;&#x4E00;&#x770B;&#xFF0C;&#x4F3C;&#x4E4E;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF0C;&#x76F4;&#x89C9;&#x4E0A;&#xFF0C;&#x6807;&#x51C6;&#x5E93;&#x7684; I/O &#x51FD;&#x6570;&#x5E94;&#x8BE5;&#x662F;&#x80FD;&#x591F;&#x8FD9;&#x4E48;&#x7528;&#x7684;&#x3002;
</p>

<p>
&#x5751;&#x70B9;&#x5C31;&#x5728;&#x8FD9;&#x91CC;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;C &#x8BED;&#x8A00;&#x7684;&#x6807;&#x51C6;&#x5E93;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#xFF08;&#x300A;C &#x9677;&#x9631;&#x4E0E;&#x7F3A;&#x9677;&#x300B;&#x4E2D;&#x8BF4;&#x662F;&#x4E3A;&#x4E86;&#x4EE5;&#x5F80;&#x7A0B;&#x5E8F;&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF09;&#xFF0C;
&#x5728;&#x8F93;&#x5165;&#x64CD;&#x4F5C;&#x540E;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#x540E;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x8F93;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x662F;&#x4E0D;&#x884C;&#x7684;&#x3002;
</p>

<p>
&#x5982;&#x679C;&#x60F3;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x8F93;&#x5165;&#x64CD;&#x4F5C;&#x548C;&#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x5176;&#x4E2D;&#x63D2;&#x5165; fseek &#x8C03;&#x7528;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">FILE* fp = fopen(file, <span class="string">&quot;r+&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">512</span>];</span><br><span class="line">fread(buf, <span class="keyword">sizeof</span>(buf), <span class="number">1</span>, fp);</span><br><span class="line"></span><br><span class="line">fseek(fp, <span class="number">0L</span>, SEEK_CUR);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> write_buf[<span class="number">512</span>] = {<span class="string">&apos;\0&apos;</span>};</span><br><span class="line">fwrite(buf, <span class="keyword">sizeof</span>(buf), <span class="number">1</span>, fp);</span><br></pre></td></tr></table></figure>
</div>
<p>
fseek &#x7684;&#x539F;&#x672C;&#x4F5C;&#x7528;&#x662F;&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x6307;&#x9488;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC; fseek &#x5E76;&#x6CA1;&#x6709;&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x6307;&#x9488;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x770B;&#x4E0A;&#x53BB;&#x4EC0;&#x4E48;&#x4E5F;&#x6CA1;&#x505A;&#x3002;
&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x4E0A; fseek &#x6539;&#x53D8;&#x4E86;&#x6587;&#x4EF6;&#x7684;&#x4E00;&#x4E9B;&#x5185;&#x90E8;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x5F97;&#x540E;&#x9762;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x4E86;&#x3002;
</p>
</div>
</div>


<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> strncpy &#x51FD;&#x6570;</h3>
<div class="outline-text-3" id="text-2-2">
<p>
&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x6709;&#x4E00;&#x4E2A; <code>strcpy</code> &#x51FD;&#x6570;&#xFF0C;&#x8FDB;&#x884C; C &#x98CE;&#x683C;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x62F7;&#x8D1D;&#x3002;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> s = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">32</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(str, s);</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x4F46;&#x662F; strcpy &#x5BB9;&#x6613;&#x9020;&#x6210;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x95EE;&#x9898;&#x3002;&#x56E0;&#x4E3A;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#x4F60;&#x4E0D;&#x6E05;&#x695A;&#x5B58;&#x653E;&#x62F7;&#x8D1D;&#x7684;&#x5B57;&#x7B26;&#x6570;&#x7EC4; str &#x7684;&#x5927;&#x5C0F;&#x80FD;&#x5426;&#x5BB9;&#x7EB3;&#x5B57;&#x7B26;&#x4E32; s&#x3002;
&#x5373;&#x4F7F; str &#x7684;&#x5927;&#x5C0F;&#x4E0D;&#x8DB3;&#x4EE5;&#x50A8;&#x5B58;&#x5B57;&#x7B26;&#x4E32; s&#xFF0C;strcpy &#x51FD;&#x6570;&#x4ECD;&#x7136;&#x4F1A;&#x628A;&#x540E;&#x9762;&#x7684;&#x5B57;&#x7B26;&#x5F80;&#x540E;&#x9762;&#x62F7;&#x8D1D;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x62F7;&#x8D1D;&#x7684;&#x4F4D;&#x7F6E;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E86; str &#x6570;&#x7EC4;&#x7684;&#x8FB9;&#x754C;&#x4E86;&#xFF01;
</p>

<p>
&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x9020;&#x6210;&#x7684;&#x5B89;&#x5168;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x8D85;&#x51FA;&#x957F;&#x5EA6;&#x7684;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x622A;&#x65AD;&#xFF0C;&#x4E00;&#x67E5;&#x6807;&#x51C6;&#x5E93;&#x6709;&#x4E00;&#x4E2A; <code>strncpy</code> &#x51FD;&#x6570;&#xFF0C;&#x4E8E;&#x662F;&#x8FD9;&#x6837;&#x5199;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* &#x6709; bug &#x7684;&#x4EE3;&#x7801; */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> s = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">32</span>];</span><br><span class="line"><span class="built_in">strncpy</span>(str, s, <span class="keyword">sizeof</span>(str));</span><br></pre></td></tr></table></figure>
</div>

<p>
&#x76EE;&#x524D; str &#x7684;&#x5927;&#x5C0F;&#x8DB3;&#x591F;&#x5BB9;&#x7EB3;&#x5B57;&#x7B26;&#x4E32; s&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x3002;&#x53EF;&#x5982;&#x679C;&#x4E0D;&#x591F;&#x5462;&#xFF1F;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* &#x6709; bug &#x7684;&#x4EE3;&#x7801; */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> s = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">3</span>];</span><br><span class="line"><span class="built_in">strncpy</span>(str, s, <span class="keyword">sizeof</span>(str));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%c%c%c\n&quot;</span>, str[<span class="number">0</span>], str[<span class="number">1</span>], str[<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>
</div>

<p>
<b>&#x671F;&#x671B;&#x7684;&#x884C;&#x4E3A;&#x5E94;&#x8BE5;&#x662F;&#xFF0C;str &#x662F;&#x4E2A;&#x5408;&#x6CD5;&#x7684; C &#x98CE;&#x683C;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x4EE5;&apos;\0&apos;&#x4F5C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x7ED3;&#x675F;&#x7B26;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x8D85;&#x51FA; str &#x6240;&#x80FD;&#x5BB9;&#x7EB3;&#x6700;&#x5927;&#x5927;&#x5C0F;&#x7684;&#x90E8;&#x5206;&#x4F1A;&#x88AB;&#x4E22;&#x5F03;&#x3002;</b>
</p>

<p>
&#x7136;&#x800C;&#xFF0C;&#x4E0A;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x5176;&#x5B9E;&#x662F;&#xFF1A;
</p>
<pre class="example">
tes
</pre>

<p>
strncpy &#x7684;&#x786E;&#x5982;&#x9884;&#x6599;&#x4E2D;&#x7684;&#x90A3;&#x6837;&#x622A;&#x65AD;&#x8D85;&#x51FA;&#x90E8;&#x5206;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x5E76;&#x6CA1;&#x80FD;&#x4FDD;&#x8BC1;&#x62F7;&#x8D1D;&#x4E4B;&#x540E;&#x7684; str &#x662F;&#x4E2A; C &#x98CE;&#x683C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E5F;&#x5373;&#x4EE5;&apos;\0&apos;&#x4F5C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x7ED3;&#x675F;&#x7B26;&#x3002;
&#x867D;&#x7136;&#x4ECE;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x540D;&#x5B57;&#x6765;&#x770B;&#xFF0C;&#x4F3C;&#x4E4E;&#x5E94;&#x8BE5;&#x80FD;&#x4FDD;&#x8BC1;&#x62F7;&#x8D1D;&#x4E4B;&#x540E;&#x7684;&#x5B57;&#x7B26;&#x6570;&#x7EC4;&#x662F;&#x4E2A;&#x5408;&#x6CD5;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;
</p>

<p>
&#x4E3A;&#x4E86;&#x5F04;&#x6E05;&#x695A; <code>strncpy</code> &#x51FD;&#x6570;&#x7684;&#x5177;&#x4F53;&#x884C;&#x4E3A;&#xFF0C;&#x4ED4;&#x7EC6;&#x9605;&#x8BFB;&#x4E0B; <code>strncpy</code> &#x7684;&#x6587;&#x6863;&#xFF0C;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#xFF1A;
</p>
<blockquote>
<p>
char *strncpy( char *restrict dest, const char *restrict src, size_t count );
</p>

<p>
Copies at most count characters of the character array pointed to by src (including the terminating null character,
 but not any of the characters that follow the null character) to character array pointed to by dest.
</p>

<p>
If count is reached before the entire array src was copied, the resulting character array is not null-terminated.
</p>
</blockquote>
<p>
&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x884C;&#x4E3A;&#x662F;&#x4ECE; src &#x5F80; dest &#x91CC;&#x62F7;&#x8D1D;&#x5B57;&#x7B26;&#xFF0C;&#x6700;&#x591A;&#x62F7;&#x8D1D; count &#x4E2A;&#x5B57;&#x7B26;&#x3002;
&#x5B83;&#x6839;&#x672C;&#x5C31;&#x4E0D;&#x989D;&#x5916;&#x5904;&#x7406;&apos;\0&apos;&#x5B57;&#x7B26;&#xFF0C;&#x5982;&#x679C; count &#x591F;&#x4E86;&#x5C31;&#x987A;&#x4FBF;&#x628A;&apos;\0&apos;&#x62F7;&#x8FDB;&#x53BB;&#xFF0C;&#x4E0D;&#x591F;&#x7684;&#x8BDD;&#xFF0C;&#x4E0D;&#x591F;&#x7684;&#x8BDD;&#x5C31;&#x76F4;&#x63A5;&#x622A;&#x65AD;&#x3002;
</p>

<p>
<code>_</code> &#x6240;&#x4EE5;&#xFF0C;&#x6B63;&#x786E;&#x4F7F;&#x7528; strncpy &#x907F;&#x514D;&#x7F13;&#x51B2;&#x533A;&#x6EA2;&#x51FA;&#x7684;&#x505A;&#x6CD5;&#x662F;&#xFF1A;
</p>
<div class="org-src-container">

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> s = <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">strncpy</span>(str, s, <span class="keyword">sizeof</span>(str) - <span class="number">1</span>);</span><br><span class="line">str[<span class="keyword">sizeof</span>(str) - <span class="number">1</span>] = <span class="string">&apos;\0&apos;</span>;</span><br></pre></td></tr></table></figure>
</div>
<p>
&#x8FD9;&#x6837;&#xFF0C;&#x5982;&#x679C; str &#x4E0D;&#x591F;&#x5927;&#xFF0C;strncpy &#x4F1A;&#x5C06;&#x5176;&#x622A;&#x65AD;&#x3002;&#x65E2;&#x7136;&#x5751;&#x7239;&#x7684; strncpy &#x6CA1;&#x6709;&#x989D;&#x5916;&#x5904;&#x7406;&apos;\0&apos;&#x5B57;&#x7B26;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x989D;&#x5916;&#x7684;&#x628A;&#x672B;&#x5C3E;&#x7684;&apos;\0&apos;&#x7ED9;&#x8865;&#x4E0A;&#x3002;
</p>
</div>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> &#x6700;&#x540E;</h2>
<div class="outline-text-2" id="text-3">
<p>
C &#x8BED;&#x8A00;&#x662F;&#x4E2A;&#x63A5;&#x8FD1;&#x7CFB;&#x7EDF;&#x5E95;&#x5C42;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x62FF;&#x5B83;&#x7F16;&#x5199;&#x7CFB;&#x7EDF;&#x7EA7;&#x7A0B;&#x5E8F;&#x975E;&#x5E38;&#x5408;&#x9002;&#x3002;
&#x4F46;&#x662F; C &#x8BED;&#x8A00;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x95E8;&#x975E;&#x5E38;&#x53E4;&#x8001;&#x7684;&#x8BED;&#x8A00;&#x4E86;&#xFF0C;&#x5176;&#x4E2D;&#x4E0D;&#x4E4F;&#x6709;&#x4E00;&#x4E9B;&#x5386;&#x53F2;&#x9057;&#x7559;&#x95EE;&#x9898;&#xFF0C;&#x4E00;&#x4E9B;&#x8BBE;&#x8BA1;&#x4E0A;&#x7684;&#x7F3A;&#x9677;&#xFF0C;&#x4E00;&#x4E0D;&#x7559;&#x795E;&#xFF0C;&#x5C31;&#x8E29;&#x5230;&#x5751;&#x4E86;&#x3002;
</p>

<p>
&#x5BF9;&#x4E8E; C &#x8BED;&#x8A00;&#x8BBE;&#x8BA1;&#x4E4B;&#x521D;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x540E;&#x4EBA;&#x65E0;&#x5948;&#x53EA;&#x80FD;&#x7528;&#x5404;&#x79CD;&#x5947;&#x6DEB;&#x6280;&#x5DE7;&#x6765;&#x5F25;&#x8865;&#x3002;
&#x4F46;&#x662F;&#x8FD9;&#x4E9B;&#x5947;&#x6DEB;&#x6280;&#x5DE7;&#x4E0D;&#x4EC5;&#x6666;&#x6DA9;&#x96BE;&#x61C2;&#xFF0C;&#x4E0D;&#x7B26;&#x5408;&#x4EBA;&#x7C7B;&#x7684;&#x601D;&#x7EF4;&#x4E60;&#x60EF;&#xFF0C;&#x8FD8;&#x5F88;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#x3002;
&#x597D;&#x5728; C &#x8BED;&#x8A00;&#x7684;&#x6807;&#x51C6;&#x662F;&#x5728;&#x4E0D;&#x65AD;&#x8FDB;&#x6B65;&#x7684;&#xFF0C;&#x629B;&#x5F03;&#x4F20;&#x7EDF;&#x7684;&#x5947;&#x6DEB;&#x6280;&#x5DE7;&#xFF0C;&#x91C7;&#x7528;&#x65B0;&#x7684;&#x6807;&#x51C6;&#x8FDB;&#x884C;&#x7F16;&#x7A0B;&#xFF0C;&#x65B9;&#x4FBF;&#x53C8;&#x4E0D;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#x3002;
</p>

<p>
&#x81F3;&#x4E8E;&#x4E00;&#x4E9B;&#x8BBE;&#x8BA1;&#x4E0A;&#x7684;&#x7F3A;&#x9677;&#xFF0C;&#x8BED;&#x6CD5;&#x4E0A;&#x7684;&#x7F3A;&#x9677;&#x90A3;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x53EA;&#x80FD;&#x81EA;&#x5DF1;&#x7ED5;&#x8FC7;&#x3002;
&#x6807;&#x51C6;&#x5E93;&#x7684;&#x7F3A;&#x9677;&#x5F88;&#x597D;&#x89E3;&#x51B3;&#xFF0C;&#x5728;&#x4E86;&#x89E3;&#x4E86;&#x7F3A;&#x9677;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5199;&#x4E00;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;&#x51FD;&#x6570;&#x5C06;&#x6807;&#x51C6;&#x5E93;&#x7684;&#x51FD;&#x6570;&#x5305;&#x88C5;&#x8D77;&#x6765;&#x5E76;&#x5C4F;&#x853D;&#x5176;&#x6709;&#x7684;&#x5C0F;&#x5751;&#x5373;&#x53EF;&#x3002;
</p>
</div>
</div>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/01/11/c99-some-new-feature-and-skill/" class="archive-article-date">
  	<time datetime="2017-01-11T06:33:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-01-11</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/编程/">编程</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
  
    <a href="/2016/12/02/spacemacs-install-and-basic-config/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">spacemacs 系列--安装和基础配置</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>









<div class="share ds-share flat" 
    data-thread-key="c99-some-new-feature-and-skill"
    data-title="C99 的常用好用特性和 C 语言细节上的小坑" 
    data-images="" 
    data-content="" 
    data-url="http://frapples.github.io/2017/01/11/c99-some-new-feature-and-skill/">

    <div class="ds-share-inline">
        <ul  class="ds-share-icons-32">
            <li> <a class="ds-weibo" href="javascript:void(0);" data-service="weibo"></a> </li>
            <li> <a class="ds-wechat" href="javascript:void(0);" data-service="wechat"></a> </li>
            <li> <a class="ds-qq" href="javascript:void(0);" data-service="qq"></a> </li>
            <li> <a class="ds-douban" href="javascript:void(0);" data-service="douban"></a> </li>
            <li> <a class="ds-baidu" href="javascript:void(0);" data-service="baidu"></a> </li>
            <li> <a class="ds-twitter" href="javascript:void(0);" data-service="twitter"></a> </li>
            <li> <a class="ds-facebook" href="javascript:void(0);" data-service="facebook"></a> </li>
        </ul>
    </div>
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="c99-some-new-feature-and-skill" data-title="C99 的常用好用特性和 C 语言细节上的小坑" data-url="http://frapples.github.io/2017/01/11/c99-some-new-feature-and-skill/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"frapples"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Frapples
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/"
	}
</script>

<script src="/./main.js"></script>





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/C/" style="font-size: 10px;">C</a> <a href="/tags/aop/" style="font-size: 10px;">aop</a> <a href="/tags/c/" style="font-size: 10px;">c</a> <a href="/tags/draw/" style="font-size: 10px;">draw</a> <a href="/tags/emacs/" style="font-size: 15px;">emacs</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/graphviz/" style="font-size: 10px;">graphviz</a> <a href="/tags/hexo/" style="font-size: 20px;">hexo</a> <a href="/tags/myself/" style="font-size: 10px;">myself</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/orgmode/" style="font-size: 15px;">orgmode</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/spacemacs/" style="font-size: 10px;">spacemacs</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/动态语言/" style="font-size: 10px;">动态语言</a> <a href="/tags/泛型/" style="font-size: 10px;">泛型</a>
    			</div>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">热爱技术，热爱知识的大学生一枚。&lt;br&gt;&lt;br&gt;自己的一片小天地。&lt;br&gt;在这里整理自己的思绪，分享自己的心得。</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>